# 改进的LinearSVM模型配置文件
# 全局配置
[global]
    model = "linear_svm"
    device = "auto"
    seed = 42
    inputfl = "./datasets/tumor_imm/melanoma_immunotherapy.pkl"
    outputfl = "melanoma_imm_LinearSVM_improved.pkl"
    outdir = "experiment/melanoma_imm_LinearSVM_improved"

# 数据集配置
[dataset]
    test_size = 0.2
    val_size = 0.2
    random_state = 42

# LinearSVM模型配置
[linear_svm]
    # 基础参数 - 扩展参数搜索范围
    C = [0.001, 0.01, 0.1, 1.0, 10.0, 100.0, 1000.0]  # 更宽的正则化参数范围
    loss = ["hinge", "squared_hinge"]

    # 类别不平衡处理
    random_state = 42
    class_weight = ["balanced", "balanced_subsample"]  # 尝试不同的类别权重策略
    max_iter = 2000  # 增加最大迭代次数

    # 交叉验证配置
    cv_folds = 5
    cv_scoring = "f1"  # 改用F1作为评估指标，更适合不平衡数据
    n_jobs = 8

    # 改进的特征选择配置
    feature_selection = true
    selection_method = "lasso"  # 改用互信息，更适合分类问题
    n_features = 7000  # 增加特征数量
    selection_alpha = 0.001  # 降低正则化强度

    # 数据预处理配置
    [linear_svm.preprocessing]
        fill_na = true
        fill_method = "median"  # 改用中位数填充，对异常值更鲁棒
        scale_data = true
        scale_method = "robust"  # 改用鲁棒标准化，对异常值更不敏感

# 训练配置
[training]
    verbose = 1
    save_model = true
    save_format = "pickle"
    save_data = true

# 评估配置
[evaluation]
    metrics = ["roc_auc", "f1", "precision", "recall", "classification_report"]
    save_predictions = true
    save_probabilities = true 